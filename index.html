<!doctype html>
<html lang="ko" class="dark">
<head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, viewport-fit=cover"
  />
  <title>KORUAL CONTROL CENTER ‚Äì Dashboard</title>

  <!-- Meta -->
  <meta name="description" content="KORUAL CONTROL CENTER ‚Äì 24h ÏûêÎèôÌôî Ïª§Î®∏Ïä§ Í¥ÄÏ†úÌÉë" />
  <meta name="theme-color" content="#020617" />
  <link rel="icon" href="data:," />

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root {
      color-scheme: dark;
      --korual-accent: #38bdf8;
      --korual-accent-soft: rgba(56, 189, 248, 0.18);
      --korual-bg: #020617;
    }

    html.dark { color-scheme: dark; }
    html:not(.dark) { color-scheme: light; }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Pretendard",
        "Segoe UI", sans-serif;
      min-height: 100vh;
      background-color: var(--korual-bg);
      color: #e5e7eb;
      overflow: hidden;
    }

    /* Ï†ÑÏ≤¥ Î∞∞Í≤Ω ‚Äì Î†àÏù¥Îçî/Í¥ÄÏ†úÌÉë ÎäêÎÇå */
    .korual-bg {
      position: relative;
      min-height: 100vh;
      background:
        radial-gradient(1200px 800px at 0% 0%, rgba(59,130,246,.24), transparent 65%),
        radial-gradient(900px 700px at 100% 100%, rgba(168,85,247,.30), transparent 65%),
        radial-gradient(900px 900px at 50% 120%, rgba(15,23,42,0.8), transparent 60%),
        linear-gradient(to bottom right, #020617, #020617);
      isolation: isolate;
    }

    .korual-bg::before {
      content: "";
      position: fixed;
      inset: -200px;
      pointer-events: none;
      background-image:
        linear-gradient(rgba(15,23,42,0.72) 1px, transparent 1px),
        linear-gradient(90deg, rgba(15,23,42,0.72) 1px, transparent 1px);
      background-size: 80px 80px;
      opacity: 0.7;
      mix-blend-mode: soft-light;
      mask-image: radial-gradient(circle at center, black 0%, transparent 65%);
      z-index: -3;
    }

    .radar-ring {
      position: fixed;
      inset: 0;
      margin: auto;
      width: min(720px, 80vw);
      height: min(720px, 80vw);
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.18);
      box-shadow:
        0 0 0 1px rgba(15,23,42,0.9),
        0 0 160px rgba(56,189,248,0.23);
      background:
        radial-gradient(circle at center, rgba(15,23,42,0.4), transparent 60%);
      opacity: 0.12;
      pointer-events: none;
      z-index: -2;
    }

    .radar-sweep {
      position: absolute;
      inset: -10%;
      border-radius: 999px;
      background: conic-gradient(
        from 220deg,
        rgba(56,189,248,0.35),
        transparent 45%,
        transparent 100%
      );
      filter: blur(6px);
      animation: radarSweep 18s linear infinite;
      transform-origin: center;
    }

    @keyframes radarSweep {
      from { transform: rotate(0deg); }
      to   { transform: rotate(360deg); }
    }

    .orb {
      position: fixed;
      border-radius: 999px;
      filter: blur(26px);
      opacity: 0.8;
      mix-blend-mode: screen;
      pointer-events: none;
      z-index: -1;
    }
    .orb-1 {
      width: 220px; height: 220px;
      top: 8%; left: 6%;
      background: radial-gradient(circle at 30% 30%, rgba(56,189,248,.75), transparent 60%);
      animation: floatOrb1 16s ease-in-out infinite alternate;
    }
    .orb-2 {
      width: 260px; height: 260px;
      bottom: 4%; right: 8%;
      background: radial-gradient(circle at 70% 60%, rgba(129,140,248,.85), transparent 60%);
      animation: floatOrb2 18s ease-in-out infinite alternate;
    }

    @keyframes floatOrb1 {
      0%   { transform: translate3d(0, 0, 0); }
      100% { transform: translate3d(18px, 32px, 0); }
    }
    @keyframes floatOrb2 {
      0%   { transform: translate3d(0, 0, 0); }
      100% { transform: translate3d(-26px, -26px, 0); }
    }

    .glass {
      backdrop-filter: blur(26px);
      -webkit-backdrop-filter: blur(26px);
    }

    .btn-ghost {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.45rem 0.9rem;
      border-radius: 999px;
      font-size: 0.75rem;
      border: 1px solid rgba(148,163,184,0.5);
      background:
        radial-gradient(circle at top left, rgba(148,163,184,0.12), transparent 55%),
        rgba(15,23,42,0.92);
      color: #e5e7eb;
      transition: all 0.16s ease-out;
    }
    .btn-ghost:hover {
      border-color: rgba(148,163,184,0.9);
      background:
        radial-gradient(circle at top left, rgba(148,163,184,0.26), transparent 55%),
        rgba(15,23,42,0.98);
      transform: translateY(-0.5px);
    }
    .btn-ghost:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    .btn-primary {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.55rem 1.1rem;
      border-radius: 999px;
      font-size: 0.8rem;
      font-weight: 600;
      letter-spacing: -0.01em;
      color: #ffffff;
      background:
        radial-gradient(circle at 0% 0%, rgba(255,255,255,0.18), transparent 55%),
        linear-gradient(135deg, #2563eb, #0ea5e9);
      box-shadow:
        0 18px 46px rgba(15,23,42,0.96),
        0 0 0 1px rgba(129,140,248,0.45);
      border: 0;
      transition: all 0.18s ease-out;
    }
    .btn-primary:hover {
      filter: saturate(1.06);
      box-shadow:
        0 22px 52px rgba(15,23,42,0.98),
        0 0 0 1px rgba(129,140,248,0.8);
      transform: translateY(-1px);
    }

    .sidebar-nav .nav-link {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 0.75rem;
      border-radius: 0.9rem;
      font-size: 0.78rem;
      color: #9ca3af;
      border: 1px solid transparent;
      cursor: pointer;
      transition: all 0.16s ease-out;
      white-space: nowrap;
    }
    .sidebar-nav .nav-link span.icon {
      width: 1.3rem;
      height: 1.3rem;
      border-radius: 999px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: rgba(15,23,42,0.9);
      font-size: 0.85rem;
    }
    .sidebar-nav .nav-link:hover {
      color: #e5e7eb;
      border-color: rgba(148,163,184,0.6);
      background:
        radial-gradient(circle at top left, rgba(148,163,184,0.18), transparent 55%),
        rgba(15,23,42,0.94);
    }
    .sidebar-nav .nav-link.active {
      color: #0f172a;
      background:
        radial-gradient(circle at 0% 0%, rgba(255,255,255,0.22), transparent 55%),
        linear-gradient(135deg, #38bdf8, #22c55e);
      border-color: transparent;
      box-shadow:
        0 18px 40px rgba(15,23,42,0.98),
        0 0 0 1px rgba(8,47,73,0.85);
    }
    .sidebar-nav .nav-link.active span.icon {
      background: rgba(15,23,42,0.08);
      color: #020617;
    }

    .korual-table {
      width: 100%;
      font-size: 0.75rem;
      border-collapse: collapse;
      border-spacing: 0;
    }
    .korual-table thead {
      background: linear-gradient(to right, rgba(15,23,42,0.98), rgba(15,23,42,0.92));
    }
    .korual-table th,
    .korual-table td {
      padding: 0.45rem 0.55rem;
      border-bottom: 1px solid rgba(30,41,59,0.8);
      white-space: nowrap;
    }
    .korual-table th {
      text-align: left;
      font-size: 0.7rem;
      font-weight: 500;
      color: #9ca3af;
      position: sticky;
      top: 0;
      z-index: 1;
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
    }
    .korual-table tbody tr:nth-child(even) {
      background-color: rgba(15,23,42,0.82);
    }
    .korual-table tbody tr:hover {
      background-color: rgba(30,64,175,0.45);
    }

    .filter-bar {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 0.5rem;
      margin-bottom: 0.75rem;
      padding: 0.55rem 0.7rem;
      border-radius: 0.95rem;
      border: 1px solid rgba(30,64,175,0.55);
      background:
        radial-gradient(circle at top left, rgba(37,99,235,0.18), transparent 55%),
        rgba(15,23,42,0.96);
    }
    .filter-input {
      border-radius: 0.75rem;
      border: 1px solid rgba(148,163,184,0.6);
      background: rgba(15,23,42,0.98);
      padding: 0.35rem 0.6rem;
      font-size: 0.75rem;
      color: #e5e7eb;
      outline: none;
      min-width: 0;
    }
    .filter-input::placeholder {
      color: #64748b;
    }
    .filter-input:focus {
      border-color: rgba(96,165,250,0.98);
      box-shadow:
        0 0 0 1px rgba(96,165,250,0.98),
        0 0 0 6px rgba(37,99,235,0.18);
    }

    .korual-loading {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: calc(100vh - 140px);
      gap: 1rem;
    }
    .korual-spinner {
      width: 2.4rem;
      height: 2.4rem;
      border-radius: 999px;
      border: 2px solid rgba(51,65,85,0.9);
      border-top-color: #38bdf8;
      animation: spin 0.9s linear infinite;
    }
    .korual-loading-text {
      font-size: 0.8rem;
      color: #9ca3af;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    #korual-toast {
      pointer-events: auto;
      min-width: 220px;
      max-width: 360px;
      padding: 0.5rem 0.9rem;
      border-radius: 0.85rem;
      font-size: 0.78rem;
      box-shadow:
        0 22px 55px rgba(15,23,42,0.95),
        0 0 0 1px rgba(15,23,42,0.9);
      opacity: 0;
      transform: translateY(12px) scale(.96);
      transition: all 0.18s ease-out;
    }
    #korual-toast.visible {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
    .korual-toast-info {
      background:
        radial-gradient(circle at top left, rgba(59,130,246,0.25), transparent 55%),
        rgba(15,23,42,0.98);
      color: #e5e7eb;
    }
    .korual-toast-success {
      background:
        radial-gradient(circle at top left, rgba(52,211,153,0.4), transparent 55%),
        rgba(15,23,42,0.98);
      color: #e5e7eb;
    }
    .korual-toast-error {
      background:
        radial-gradient(circle at top left, rgba(248,113,113,0.4), transparent 55%),
        rgba(15,23,42,0.98);
      color: #fee2e2;
    }

    html:not(.dark) body {
      background: radial-gradient(circle at top left, #eff6ff, #f9fafb);
      color: #0f172a;
    }
    html:not(.dark) .korual-bg {
      background:
        radial-gradient(1200px 800px at 0% 0%, rgba(59,130,246,.10), transparent 60%),
        radial-gradient(900px 700px at 100% 100%, rgba(168,85,247,.10), transparent 60%),
        linear-gradient(to bottom right, #e5f0ff, #f9fafb);
    }
    html:not(.dark) .glass {
      background: rgba(255,255,255,0.96);
      border-color: rgba(148,163,184,0.38);
      box-shadow:
        0 32px 80px rgba(15,23,42,0.18),
        0 0 0 1px rgba(148,163,184,0.22);
    }
    html:not(.dark) .sidebar-nav .nav-link {
      color: #6b7280;
      background: rgba(248,250,252,0.86);
      border-color: rgba(226,232,240,0.86);
    }
    html:not(.dark) .sidebar-nav .nav-link:hover {
      color: #0f172a;
      background: #f9fafb;
      border-color: rgba(148,163,184,0.9);
    }
    html:not(.dark) .sidebar-nav .nav-link span.icon {
      background: #e5e7eb;
      color: #020617;
    }
    html:not(.dark) .sidebar-nav .nav-link.active {
      color: #020617;
    }
    html:not(.dark) .filter-input {
      background: #ffffff;
      color: #0f172a;
      border-color: rgba(148,163,184,0.7);
    }
    html:not(.dark) .korual-table thead {
      background: #f9fafb;
    }
    html:not(.dark) .korual-table tbody tr:nth-child(even) {
      background-color: #f1f5f9;
    }
    html:not(.dark) .korual-table tbody tr:hover {
      background-color: #e5f0ff;
    }
  </style>

  <!-- Ï†ÑÏó≠ Î©îÌÉÄ (ÌïÑÏöîÌïòÎ©¥ app.jsÏóêÏÑú ÏÇ¨Ïö© Í∞ÄÎä•) -->
  <script>
    window.KORUAL_CONTROL_CENTER = {
      app: {
        id: "korual-core-dashboard",
        name: "KORUAL CONTROL CENTER",
        version: "v3.1-ultra",
        env: "prod",
      },
      api: {
        // code.gs Web App URL (v5.x)
        baseUrl: "https://script.google.com/macros/s/REPLACE_WITH_CORE_API_URL/exec",
        secret: "KORUAL-ONLY",
      },
    };
  </script>
</head>

<body class="korual-bg">
  <!-- Î†àÏù¥Îçî / ORB Î∞∞Í≤Ω -->
  <div class="radar-ring">
    <div class="radar-sweep"></div>
  </div>
  <div class="orb orb-1"></div>
  <div class="orb orb-2"></div>

  <!-- Toast container -->
  <div class="fixed inset-x-0 bottom-4 flex justify-center pointer-events-none z-30 px-4">
    <div id="korual-toast"></div>
  </div>

  <!-- Ï†ÑÏ≤¥ Î†àÏù¥ÏïÑÏõÉ -->
  <div class="relative z-10 flex flex-col h-screen">
    <!-- ÏÉÅÎã® Î∞î -->
    <header class="flex items-center justify-between px-4 sm:px-6 lg:px-8 py-3 border-b border-slate-800/80 bg-slate-950/80 glass">
      <div class="flex items-center gap-3">
        <div
          class="w-9 h-9 rounded-2xl bg-slate-950 text-white grid place-content-center text-lg font-bold shadow-[0_18px_40px_rgba(15,23,42,0.95)] ring-1 ring-slate-700/90"
          aria-hidden="true"
        >
          K
        </div>
        <div>
          <p class="text-[10px] uppercase tracking-[0.32em] text-slate-400">
            Korual Control Center
          </p>
          <div class="flex items-center gap-2 text-xs">
            <span class="font-semibold">24h ÏûêÎèôÌôî Ïª§Î®∏Ïä§ Î†àÏù¥Îçî</span>
            <span class="px-1.5 py-0.5 rounded-full text-[10px] border border-emerald-400/70 text-emerald-200 bg-emerald-400/10">
              LIVE
            </span>
          </div>
        </div>
      </div>

      <div class="flex items-center gap-3 text-[11px]">
        <div class="hidden sm:flex items-center gap-2" aria-live="polite">
          <span
            id="apiStatusDot"
            class="h-2.5 w-2.5 rounded-full bg-amber-400 shadow-[0_0_0_5px_rgba(251,191,36,0.35)]"
          ></span>
          <span id="apiStatusText" class="text-slate-400">Core API ÏÉÅÌÉú ÌôïÏù∏ Ï§ë‚Ä¶</span>
        </div>
        <button
          id="themeToggle"
          type="button"
          class="btn-ghost px-2.5 py-1.5 text-base"
          title="ÌÖåÎßà Ï†ÑÌôò"
          aria-label="ÌÖåÎßà Ï†ÑÌôò"
        >
          üåì
        </button>
      </div>
    </header>

    <!-- Î©îÏù∏ Ïª®ÌÖêÏ∏† Î†àÏù¥ÏïÑÏõÉ -->
    <div class="flex flex-1 min-h-0">
      <!-- ÏÇ¨Ïù¥ÎìúÎ∞î -->
      <aside
        class="hidden md:flex flex-col w-60 border-r border-slate-800/80 bg-slate-950/80 glass pl-4 pr-3 py-4"
        aria-label="KORUAL Navigation"
      >
        <div class="mb-4">
          <p class="text-[11px] font-medium text-slate-400 uppercase tracking-[0.16em] mb-2">
            Overview
          </p>
          <nav class="sidebar-nav space-y-1">
            <button class="nav-link active" data-section="dashboard">
              <span class="icon">‚óî</span>
              <span>ÎåÄÏãúÎ≥¥Îìú</span>
            </button>
          </nav>
        </div>

        <div class="mb-4">
          <p class="text-[11px] font-medium text-slate-400 uppercase tracking-[0.16em] mb-2">
            Commerce
          </p>
          <nav class="sidebar-nav space-y-1">
            <button class="nav-link" data-section="orders">
              <span class="icon">‚Ññ</span>
              <span>Ï£ºÎ¨∏ Í¥ÄÎ¶¨</span>
            </button>
            <button class="nav-link" data-section="products">
              <span class="icon">‚óé</span>
              <span>ÏÉÅÌíà Í¥ÄÎ¶¨</span>
            </button>
            <button class="nav-link" data-section="stock">
              <span class="icon">‚ñ§</span>
              <span>Ïû¨Í≥† ÌòÑÌô©</span>
            </button>
          </nav>
        </div>

        <div class="mb-4">
          <p class="text-[11px] font-medium text-slate-400 uppercase tracking-[0.16em] mb-2">
            Members
          </p>
          <nav class="sidebar-nav space-y-1">
            <button class="nav-link" data-section="members">
              <span class="icon">‰∫∫</span>
              <span>ÌöåÏõê DB</span>
            </button>
          </nav>
        </div>

        <div class="mt-auto">
          <p class="text-[11px] font-medium text-slate-500 uppercase tracking-[0.16em] mb-1.5">
            System
          </p>
          <nav class="sidebar-nav space-y-1">
            <button class="nav-link" data-section="logs">
              <span class="icon">‚ò∑</span>
              <span>API Î°úÍ∑∏</span>
            </button>
          </nav>
          <div class="mt-3 text-[10px] text-slate-500">
            v3.1 ¬∑ Core API v5.x
          </div>
        </div>
      </aside>

      <!-- Î™®Î∞îÏùº ÌÉ≠ Î∞î -->
      <nav
        class="md:hidden flex items-center justify-between px-2 py-1.5 border-b border-slate-800/80 bg-slate-950/95"
        aria-label="KORUAL Mobile Navigation"
      >
        <div class="flex items-center gap-1">
          <button class="nav-link active px-2.5 py-1.5 text-[11px]" data-section="dashboard">
            ÎåÄÏãúÎ≥¥Îìú
          </button>
          <button class="nav-link px-2.5 py-1.5 text-[11px]" data-section="orders">
            Ï£ºÎ¨∏
          </button>
          <button class="nav-link px-2.5 py-1.5 text-[11px]" data-section="products">
            ÏÉÅÌíà
          </button>
        </div>
        <div class="flex items-center gap-1">
          <button class="nav-link px-2.5 py-1.5 text-[11px]" data-section="members">
            ÌöåÏõê
          </button>
          <button class="nav-link px-2.5 py-1.5 text-[11px]" data-section="stock">
            Ïû¨Í≥†
          </button>
        </div>
      </nav>

      <!-- Î©îÏù∏ ÏòÅÏó≠ -->
      <main
        id="main-content"
        class="flex-1 min-w-0 min-h-0 px-3 sm:px-4 lg:px-6 py-3 sm:py-4 overflow-auto"
      >
        <!-- app.jsÍ∞Ä Ïù¥ ÏòÅÏó≠ÏùÑ ÎèôÏ†ÅÏúºÎ°ú Î†åÎçîÎßÅ -->
      </main>
    </div>
  </div>

  <!-- ÌÖåÎßà ÌÜ†Í∏Ä Ïä§ÌÅ¨Î¶ΩÌä∏ (Í∞ÑÎã® Î≤ÑÏ†Ñ) -->
  <script>
    (function () {
      var html = document.documentElement;
      var saved = localStorage.getItem("korual-theme");
      if (saved === "light") {
        html.classList.remove("dark");
      }

      document.getElementById("themeToggle")?.addEventListener("click", function () {
        html.classList.toggle("dark");
        var isDark = html.classList.contains("dark");
        localStorage.setItem("korual-theme", isDark ? "dark" : "light");
      });
    })();
  </script>

  <!-- Core front controller (Ïù¥Ï†ÑÏóê ÎßåÎì† app.js) -->
  <script src="app.js"></script>
</body>
</html>
